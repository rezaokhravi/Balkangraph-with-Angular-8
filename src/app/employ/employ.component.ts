import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';
import { TestService } from '../test.service';
import { HttpClient } from '@angular/common/http';
import { observable } from 'rxjs';
import { ActivatedRoute } from '@angular/router';
var y: any;
declare function OrgChart(t: any, e: any): void;
@Component({
  selector: 'app-employ',
  templateUrl: './employ.component.html',
  styleUrls: ['./employ.component.css']
})

export class EmployComponent implements OnInit {
  @ViewChild('tree', { static: true }) div: ElementRef;
  public dept: string;
  team: string;


  constructor(private svc: TestService, private http: HttpClient, private route: ActivatedRoute) {
    
  }

  ngOnInit() {
    
    this.route.queryParams.subscribe(params => {
      this.dept = params["dept"];
      this.team = params["team"]
      console.log(this.dept);
    })


    const arr2: Array<{ id: number, pid?: number, spids?: number[], name: string, title: string, Email?: string, Team?: string, img?: string; }> = [{ "id": 3070, "pid": 359, "name": "Abdul Manan", "title": "Principal Software Engineer" }, { "id": 219, "pid": 118, "name": "Abdul Munam Javed", "title": "Database Consultant" }, { "id": 219, "pid": 148, "name": "Abdul Munam Javed", "title": "Database Consultant" }, { "id": 4664, "pid": 4573, "name": "Abdul Wahab", "title": "Senior Software Quality Assurance Engineer" }, { "id": 1621, "pid": 219, "name": "Abid Hussain Tabassum", "title": "Senior Database Analyst" }, { "id": 4622, "pid": 45, "name": "Adeel Haider Mankee", "title": "Head of ICAN" }, { "id": 2648, "pid": 1567, "name": "Adeel Khan Durrani", "title": "SQA Analyst" }, { "id": 1395, "pid": 219, "name": "Adil Mukhtar", "title": "Senior Database Analyst" }, { "id": 5388, "pid": 3928, "name": "Adil Usman", "title": "Senior Software Engineer" }, { "id": 5528, "pid": 4573, "name": "Adina Fatima", "title": "Software Quality Assurance Engineer" }, { "id": 3202, "pid": 4271, "name": "Adnan Muzaffar", "title": "Principal Software Quality Assurance Engineer" }, { "id": 3737, "pid": 2618, "name": "Adnan Pervaiz", "title": "System Analyst" }, { "id": 5685, "pid": 5028, "name": "Ahmad Raza", "title": "Software Engineer" }, { "id": 2098, "pid": 2159, "name": "Aisha Riasat", "title": "System Analyst" }, { "id": 552, "pid": 2947, "name": "Ajmal Afzal", "title": "Senior Manager SCM" }, { "id": 2951, "pid": 263, "name": "Akhtar Akbar", "title": "Principal Software Engineer" }, { "id": 5058, "pid": 2947, "name": "Ali Hassaan", "title": "Assistant Manager Client Services" }, { "id": 2163, "pid": 219, "name": "Ali Imran Khan Kharal", "title": "Database Analyst" }, { "id": 1454, "pid": 359, "name": "Ali Murad", "title": "Principal Software Engineer" }, { "id": 4214, "pid": 2246, "name": "Ali Raza", "title": "Principal Software Engineer" }, { "id": 4671, "pid": 4614, "name": "Amina Saeed", "title": "SQA Analyst" }, { "id": 3960, "pid": 118, "name": "Amir Hamza Sikandar", "title": "Project Manager" }, { "id": 1903, "pid": 263, "name": "Amjad Abdullah", "title": "Senior System Analyst" }, { "id": 5340, "pid": 2672, "name": "Ammar Ashraf", "title": "Software Quality Assurance Engineer" }, { "id": 2657, "pid": 2618, "name": "Ammar Saeed", "title": "Associate Manager SQA" }, { "id": 1832, "pid": 4573, "name": "Amna Akmal", "title": "SQA Analyst" }, { "id": 4777, "pid": 4622, "name": "Amna Shakeel", "title": "Senior Training Coordinator" }, { "id": 5319, "pid": 2334, "name": "Aqsa Javed", "title": "Software Quality Assurance Engineer" }, { "id": 588, "pid": 4622, "name": "Asad Salim Toor", "title": "Associate Manager Technical Communication" }, { "id": 3133, "pid": 2461, "name": "Asif Kamal", "title": "System Analyst" }, { "id": 5323, "pid": 5058, "name": "Asif Nawaz", "title": "Junior Client Services Analyst" }, { "id": 2717, "pid": 148, "name": "Atif Amjad", "title": "Senior Project Coordinator" }, { "id": 1060, "pid": 2947, "name": "Atif Riaz Baig", "title": "Senior System Analyst" }, { "id": 3326, "pid": 2729, "name": "Atif Sagheer", "title": "Associate Manager SQA" }, { "id": 2453, "pid": 1665, "name": "Awais Ahmad", "title": "System Analyst" }, { "id": 2216, "pid": 4622, "name": "Ayesha Waseem", "title": "AM Training Development" }, { "id": 5116, "pid": 2672, "name": "Bashair", "title": "Software Quality Assurance Engineer" }, { "id": 3692, "pid": 824, "name": "Bilal Ahmad", "title": "Senior Manager UX/UI" }, { "id": 4986, "pid": 3894, "name": "Bilal Ahmad", "title": "Senior Software Engineer" }, { "id": 3762, "pid": 3073, "name": "Bilal Safdar", "title": "Principal Software Engineer" }, { "id": 5152, "pid": 5058, "name": "Ch Najam Us Saqib", "title": "Client Services Analyst" }, { "id": 4217, "pid": 2672, "name": "Chaudhry Ayyaz Hanif", "title": "Principal Software Quality Assurance Engineer" }, { "id": 5478, "pid": 2461, "name": "Duaa Waseem", "title": "Software Engineer" }, { "id": 1173, "pid": 3073, "name": "Fahad Abbas", "title": "Principal Software Architect" }, { "id": 5335, "pid": 2257, "name": "Faisal Saleem", "title": "Software Engineer" }, { "id": 4560, "pid": 2257, "name": "Fareed Hasnain", "title": "Senior Software Engineer" }, { "id": 4159, "pid": 118, "name": "Fasih Ud Din Khan", "title": "Senior Project Manager" }, { "id": 5552, "pid": 2672, "name": "Fatima Asif", "title": "Software Quality Assurance Engineer" }, { "id": 5630, "pid": 5058, "name": "Fatima Jabbar", "title": "Client Services Analyst" }, { "id": 824, "pid": 824, "name": "Fawad Fasih Ghauri", "title": "Head of Digital" }, { "id": 4906, "pid": 2461, "name": "Hafiz Khawar Latif", "title": "Software Engineer" }, { "id": 2461, "pid": 499, "name": "Hafiz Muhammad Ammar Aslam", "title": "System Analyst" }, { "id": 148, "pid": 45, "name": "Hafiz Raza Ali", "title": "Senior Program Manager" }, { "id": 2716, "pid": 2729, "name": "Hafiz Safdir Hussain", "title": "SQA Analyst" }, { "id": 5248, "pid": 3444, "name": "Hasnain Ali", "title": "Associate Software Engineer" }, { "id": 1424, "pid": 219, "name": "Hassan Mehmood Khan", "title": "Senior Database Architect" }, { "id": 3334, "pid": 4655, "name": "Hassan Waseem", "title": "Principal Software Engineer" }, { "id": 4988, "pid": 4573, "name": "Hina Zahra", "title": "Software Quality Assurance Engineer" }, { "id": 2170, "pid": 1588, "name": "Hira Sattar", "title": "Database Analyst" }, { "id": 1763, "pid": 4622, "name": "Humaira Anwar", "title": "Manager e-Learning Development & Training" }, { "id": 4340, "pid": 359, "name": "Ibtisam Zafar", "title": "System Analyst" }, { "id": 1356, "pid": 1142, "name": "Imran Asad", "title": "Senior Database Analyst" }, { "id": 5596, "pid": 5058, "name": "Imran Zia Ullah", "title": "Client Services Analyst" }, { "id": 3287, "pid": 4573, "name": "Iram Imtiaz", "title": "Senior Software Quality Assurance Engineer" }, { "id": 2947, "pid": 45, "name": "Irfan Zulfiqar Lodhi", "title": "Head of NFS R1" }, { "id": 735, "pid": 355, "name": "Irtaza Sarwar", "title": "Senior Manager SQA" }, { "id": 4543, "pid": 3262, "name": "Javiad Murtaza", "title": "Senior Software Engineer" }, { "id": 4590, "pid": 4614, "name": "Jawad Bashir", "title": "SQA Analyst" }, { "id": 2255, "pid": 4271, "name": "Kamal Ud-Din Siddiqi", "title": "SQA Analyst" }, { "id": 1492, "pid": 45, "name": "Kamran Khalid", "title": "Head of BAG & Pre-Sales" }, { "id": 4612, "pid": 4614, "name": "Kamran Yousaf", "title": "SQA Analyst" }, { "id": 4959, "pid": 2672, "name": "Khalil Ahmad", "title": "Software Quality Assurance Engineer" }, { "id": 2285, "pid": 2298, "name": "Khurram Ejaz", "title": "Principal Software Engineer" }, { "id": 3686, "pid": 219, "name": "Kunza Sajjad Butt", "title": "Principal Software Engineer" }, { "id": 3345, "pid": 1060, "name": "Madiha Mukhtar", "title": "System Analyst" }, { "id": 4885, "pid": 2461, "name": "Mahad Hassan", "title": "Senior Software Engineer" }, { "id": 5320, "pid": 2015, "name": "Maham Riaz", "title": "Software Quality Assurance Engineer" }, { "id": 5289, "pid": 2672, "name": "Maira Nadeem", "title": "Software Quality Assurance Engineer" }, { "id": 355, "pid": 45, "name": "Majid Bashir", "title": "VP Engineering" }, { "id": 383, "pid": 1120, "name": "Malik Adeel Imtiaz", "title": "Senior Infra-structure Specialist" }, { "id": 2521, "pid": 1060, "name": "Maryam Khalid", "title": "System Analyst" }, { "id": 2635, "pid": 263, "name": "Mateen Ahmad", "title": "System Analyst" }, { "id": 3245, "pid": 552, "name": "Mehboob Ahmed", "title": "Principal SCM Engineer" }, { "id": 5582, "pid": 4622, "name": "Mehreen Farhan", "title": "Training & Development Specialist" }, { "id": 2354, "pid": 1588, "name": "Mehvish Rabbani", "title": "Database Analyst" }, { "id": 5336, "pid": 5058, "name": "Mirza Muhammad Zeeshan Baig", "title": "Client Services Analyst" }, { "id": 4700, "pid": 2672, "name": "Misbah Siddique", "title": "Principal Software Quality Assurance Engineer" }, { "id": 5359, "pid": 2498, "name": "Mohsin Naveed", "title": "Software Quality Assurance Engineer" }, { "id": 45, "pid": 45, "name": "Muhammad Aamir Chaudhry", "title": "Head of NFS" }, { "id": 5281, "pid": 4573, "name": "Muhammad Ahmad", "title": "Software Quality Assurance Engineer" }, { "id": 5522, "pid": 2334, "name": "Muhammad Ali Khokhar", "title": "Senior Software Quality Assurance Engineer" }, { "id": 2451, "pid": 5191, "name": "Muhammad Ali Latif", "title": "Principal Software Engineer" }, { "id": 4614, "pid": 735, "name": "Muhammad Asif Munir Shahzad", "title": "Senior SQA Analyst" }, { "id": 3159, "pid": 2461, "name": "Muhammad Asim Munawar", "title": "Principal Software Engineer" }, { "id": 2902, "pid": 1060, "name": "Muhammad Atif Imtiaz", "title": "System Analyst" }, { "id": 3784, "pid": 3849, "name": "Muhammad Fahad Butt", "title": "Principal Software Engineer" }, { "id": 1120, "pid": 45, "name": "Muhammad Farooq", "title": "Senior Manager IS" }, { "id": 2770, "pid": 2657, "name": "Muhammad Furqan Saeed", "title": "SQA Analyst" }, { "id": 1687, "pid": 1652, "name": "Muhammad Gulzaib Khan", "title": "Senior System Analyst" }, { "id": 3338, "pid": 219, "name": "Muhammad Haroon", "title": "Principal Software Engineer" }, { "id": 3867, "pid": 1815, "name": "Muhammad Iftikhar Ali", "title": "Principal Software Engineer" }, { "id": 3465, "pid": 2461, "name": "Muhammad Imran", "title": "Senior Software Architect" }, { "id": 762, "pid": 552, "name": "Muhammad Imran Afzal", "title": "Manager SCM" }, { "id": 2906, "pid": 4614, "name": "Muhammad Jahangir Hashim", "title": "Senior SQA Analyst" }, { "id": 3914, "pid": 2498, "name": "Muhammad Javaid", "title": "Senior Software Quality Assurance Engineer" }, { "id": 4951, "pid": 4614, "name": "Muhammad Junaid Ali", "title": "Software Quality Assurance Engineer" }, { "id": 4907, "pid": 2461, "name": "Muhammad Luqman", "title": "Software Engineer" }, { "id": 5392, "pid": 4573, "name": "Muhammad Musab", "title": "Software Quality Assurance Engineer" }, { "id": 2714, "pid": 4573, "name": "Muhammad Muzzammil Hussain", "title": "SQA Analyst" }, { "id": 3124, "pid": 4622, "name": "Muhammad Nabeel Gohar", "title": "Senior Training Developer elearning" }, { "id": 4985, "pid": 2672, "name": "Muhammad Nyle Hashmi", "title": "Software Quality Assurance Engineer" }, { "id": 2660, "pid": 4271, "name": "Muhammad Qasim Alam", "title": "Principal Software Quality Assurance Engineer" }, { "id": 5669, "pid": 869, "name": "Muhammad Rizwan", "title": "Senior Software Engineer" }, { "id": 5510, "pid": 1701, "name": "Muhammad Rizwan", "title": "Software Quality Assurance Engineer" }, { "id": 3854, "pid": 219, "name": "Muhammad Safeer Nadeem", "title": "Principal Software Engineer" }, { "id": 4208, "pid": 552, "name": "Muhammad Shakaib Arif Dogar", "title": "Senior DevOps Engineer" }, { "id": 1471, "pid": 1120, "name": "Muhammad Sheeraz Gull Khan", "title": "Infrastructure Specialist" }, { "id": 3233, "pid": 219, "name": "Muhammad Shoaib Alam Khan", "title": "Principal Software Engineer" }, { "id": 5347, "pid": 4614, "name": "Muhammad Subhan Khan", "title": "Principal Software Quality Assurance Engineer" }, { "id": 3437, "pid": 148, "name": "Muhammad Sultan Raja", "title": "Senior Project Manager" }, { "id": 3083, "pid": 4271, "name": "Muhammad Tafseer Haider", "title": "Principal Software Quality Assurance Engineer" }, { "id": 2742, "pid": 2264, "name": "Muhammad Tayyab", "title": "SQA Analyst" }, { "id": 3073, "pid": 824, "name": "Muhammad Umar", "title": "Manager BD" }, { "id": 3075, "pid": 636, "name": "Muhammad Umer Ashfaq", "title": "Principal Software Engineer" }, { "id": 4119, "pid": 4573, "name": "Muhammad Usman Khalil", "title": "Senior Software Quality Assurance Engineer" }, { "id": 3849, "pid": 844, "name": "Muhammad Wasif Ahmad", "title": "System Analyst" }, { "id": 2359, "pid": 735, "name": "Muhammad Yasar", "title": "SQA Analyst" }, { "id": 2960, "pid": 2159, "name": "Muhammad Zaheer Ul Haq", "title": "Principal Software Engineer" }, { "id": 1731, "pid": 219, "name": "Mujahid Mehmood", "title": "Senior Database Analyst" }, { "id": 5138, "pid": 2672, "name": "Mujtaba Nasir", "title": "Software Quality Assurance Engineer" }, { "id": 4294, "pid": 4614, "name": "Muryam Mushtaq", "title": "Principal Software Quality Assurance Engineer" }, { "id": 5546, "pid": 5058, "name": "Musaab Ullah Khan", "title": "Client Services Analyst" }, { "id": 840, "pid": 219, "name": "Musab Bin Shahid", "title": "Senior Database Analyst" }, { "id": 1434, "pid": 219, "name": "Nabeel Asif", "title": "Senior Database Architect" }, { "id": 4079, "pid": 1731, "name": "Nabeel Khan Ghauri", "title": "Principal Software Engineer" }, { "id": 5382, "pid": 148, "name": "Nadeem Sarwar", "title": "Associate Project Manager" }, { "id": 5082, "pid": 552, "name": "Naqash Ahmad", "title": "Senior DevOps Engineer" }, { "id": 2140, "pid": 1120, "name": "Naveed Amir", "title": "Infrastructure Specialist" }, { "id": 2632, "pid": 4377, "name": "Nazish Yaqoob", "title": "SQA Analyst" }, { "id": 3121, "pid": 3849, "name": "Neelam Dawood", "title": "Principal Software Engineer" }, { "id": 2551, "pid": 552, "name": "Nida Hayat", "title": "DevOps Analyst" }, { "id": 4271, "pid": 4377, "name": "Nida Saeed", "title": "Senior Software Engineer" }, { "id": 1289, "pid": 219, "name": "Nuzha Farrukh Butt", "title": "Senior System Analyst" }, { "id": 5594, "pid": 4622, "name": "Omair Tariq", "title": "Technical Project Manager" }, { "id": 1935, "pid": 253, "name": "Omer Irshad", "title": "System Analyst" }, { "id": 4461, "pid": 552, "name": "Oroosa Bano", "title": "Senior SCM Engineer" }, { "id": 3033, "pid": 2334, "name": "Qammar Munir Khan", "title": "SQA Analyst" }, { "id": 4677, "pid": 552, "name": "Qasim Mahmood", "title": "Senior DevOps Engineer" }, { "id": 5147, "pid": 2624, "name": "Qazzafi Kareem", "title": "Software Quality Assurance Engineer" }, { "id": 2187, "pid": 1567, "name": "Rabia Liaqat", "title": "System Analyst" }, { "id": 2275, "pid": 1815, "name": "Rafi Ullah Shah", "title": "System Analyst" }, { "id": 2498, "pid": 359, "name": "Raheel Azmat", "title": "SQA Analyst" }, { "id": 5249, "pid": 2672, "name": "Ramish Fatima", "title": "Software Quality Assurance Engineer" }, { "id": 4937, "pid": 2956, "name": "Rida Naveed", "title": "Senior Software Quality Assurance Engineer" }, { "id": 1185, "pid": 4614, "name": "Rizwan Ali", "title": "Senior SQA Analyst" }, { "id": 5501, "pid": 2657, "name": "Rizwan Iqbal Bhatti", "title": "Software Quality Assurance Engineer" }, { "id": 2194, "pid": 1250, "name": "Rizwan Riaz", "title": "System Analyst" }, { "id": 3217, "pid": 1815, "name": "Roshan Lal", "title": "Principal Software Quality Assurance Engineer" }, { "id": 4547, "pid": 4614, "name": "Saad Ali", "title": "Principal Software Quality Assurance Engineer" }, { "id": 2471, "pid": 2334, "name": "Saba Waseem", "title": "SQA Analyst" }, { "id": 4882, "pid": 4614, "name": "Saeed Aalam", "title": "Principal Software Quality Assurance Engineer" }, { "id": 2578, "pid": 4138, "name": "Saira Malik", "title": "System Analyst" }, { "id": 2044, "pid": 263, "name": "Sajid Iqbal", "title": "Senior System Analyst" }, { "id": 851, "pid": 45, "name": "Sajjad Akhtar", "title": "Department Officer" }, { "id": 1136, "pid": 219, "name": "Salman Qadir", "title": "Senior Development Manager" }, { "id": 3353, "pid": 2461, "name": "Sardar Khan", "title": "Principal Software Engineer" }, { "id": 3704, "pid": 219, "name": "Sehrish Sajjad", "title": "Principal Software Engineer" }, { "id": 5533, "pid": 2159, "name": "Shahan Shaffi", "title": "Software Engineer" }, { "id": 5487, "pid": 45, "name": "Shahid Iqbal Qureshi", "title": "Sr. Advisor for Public Affairs & Govt Relations" }, { "id": 4655, "pid": 219, "name": "Shahid Mehmood", "title": "Principal Software Engineer" }, { "id": 350, "pid": 3636, "name": "Shamraiz Ahmed Abbasi", "title": "Program Manager" }, { "id": 4781, "pid": 5058, "name": "Sheharyar Ahmed", "title": "Senior Client Services Analyst" }, { "id": 3300, "pid": 219, "name": "Shoaib Ali", "title": "Principal Software Engineer" }, { "id": 1433, "pid": 219, "name": "Shoaib ur Rehman Khan", "title": "Principal Database Analyst" }, { "id": 2967, "pid": 1652, "name": "Sohail Ahmad Abbasi", "title": "Principal Software Engineer" }, { "id": 2707, "pid": 2187, "name": "Sohail Salam Alvi", "title": "System Analyst" }, { "id": 5553, "pid": 4573, "name": "Sonia Hayat", "title": "Software Quality Assurance Engineer" }, { "id": 2360, "pid": 2361, "name": "Sonia Shaukat", "title": "SQA Analyst" }, { "id": 118, "pid": 45, "name": "Suhail Sarwar", "title": "Senior Program Manager" }, { "id": 4573, "pid": 735, "name": "Syed Aftab Ali", "title": "Senior SQA Analyst" }, { "id": 2279, "pid": 2672, "name": "Syed Bilal Javaid", "title": "Principal Software Quality Assurance Engineer" }, { "id": 5688, "pid": 869, "name": "Syed Fareed Ul Hassan", "title": "Principal Software Engineer" }, { "id": 2870, "pid": 3692, "name": "Syed Muneeb Ali Khalid", "title": "Principal Graphic Designer" }, { "id": 5303, "pid": 2672, "name": "Syed Sajid Hussain Naqvi", "title": "Software Quality Assurance Engineer" }, { "id": 2264, "pid": 1259, "name": "Syed Wasi Abbas", "title": "SQA Analyst" }, { "id": 2759, "pid": 4138, "name": "Syeda Anam Hassan", "title": "Principal Software Engineer" }, { "id": 3320, "pid": 1060, "name": "Tahir Raza Shah", "title": "System Analyst" }, { "id": 5710, "pid": 1492, "name": "Talha Khan Gimmi", "title": "Business Analyst" }, { "id": 2642, "pid": 4271, "name": "Tawfiq Ali", "title": "SQA Analyst" }, { "id": 4825, "pid": 1492, "name": "Tayyaba Sarmad", "title": "Senior Business Analyst" }, { "id": 4618, "pid": 2947, "name": "Tuba Akhtar", "title": "Senior Executive Coordinator" }, { "id": 5579, "pid": 869, "name": "Umar Arshad", "title": "Software Engineer" }, { "id": 3764, "pid": 4614, "name": "Usama Amjad", "title": "Senior Software Quality Assurance Engineer" }, { "id": 4014, "pid": 2159, "name": "Usman Mahmood", "title": "Principal Software Engineer" }, { "id": 2672, "pid": 735, "name": "Usman Shaukat Ali Khan", "title": "Manager SQA" }, { "id": 3187, "pid": 2461, "name": "Waiza Munir", "title": "Principal Software Engineer" }, { "id": 572, "pid": 572, "name": "Wajih Ur Rehman", "title": "Global Program Director" }, { "id": 2905, "pid": 1963, "name": "Waqas Ashraf", "title": "Principal Software Quality Assurance Engineer" }, { "id": 5321, "pid": 2672, "name": "Wardah Rehman", "title": "Software Quality Assurance Engineer" }, { "id": 2704, "pid": 2159, "name": "Wardah Saeed Qureshi", "title": "Senior Software Engineer" }, { "id": 4753, "pid": 4614, "name": "Wassay Mahmood", "title": "Software Quality Assurance Engineer" }, { "id": 5381, "pid": 4377, "name": "Zainab Mushtaq", "title": "Software Quality Assurance Engineer" }, { "id": 4467, "pid": 3237, "name": "Zeeshan Akhtar", "title": "Principal Software Engineer" }, { "id": 4467, "pid": 4384, "name": "Zeeshan Akhtar", "title": "Principal Software Engineer" }, { "id": 2837, "pid": 2956, "name": "Zeeshan Shaukat", "title": "Principal Software Quality Assurance Engineer" }, { "id": 2362, "pid": 2672, "name": "Zia Ul Haq", "title": "Principal Software Quality Assurance Engineer" }];
  

    //--------------------------LOOP FOR DETECTING MULTIPLE PARENTS AND----------------------------
    for (var i = 0; i < 200; i++) {
      if (arr2[i].id === arr2[i].pid) {
        arr2[i].pid = null;
      }
      for (var j = 0; j < 200; j++) {
        if ((arr2[i].id == arr2[j].id) && (arr2[i].pid != arr2[j].pid)) {

          arr2[i].spids = [arr2[j].pid];
        }
      }
    }
    //------------------------------LOOP ENDS--------------------------------------------
   
    this.drawchart(arr2);
    y = arr2;
    //-------------------------closing of subscribe-----------------th--------------------

    
  } //---------------------------closing of ngoninit---------------------------------------
  //-----------------------------FUNCTION TO DRAW CHART-------------------------------------
  drawchart(res: any) {
    var chart = new OrgChart(this.div.nativeElement, {
      template: "isla",
      levelSeparation: 60,
      siblingSeparation: 20,
      subtreeSeparation: 40,

      collapse: {
        level: 2,
        allChildren: true,
      },

      
      nodeBinding: {
        field_0: "name",
        field_1: "title",
        field_2: "id",
        img_0: "img"
      },
      nodes: res
    });
  }
  //---------------------------CLOSING OF DRAW FUNCTION--------------------------------------
  //---------------------------STARTING OF IMAGE FUNCTION------------------------------------
  image(arr2: any) {
    var imageid: Array<{ empcode: Number, imagelink: String }>;
    
    var url2;

    for (var k = 0; k < arr2.length; k++) {

      imageid[k].empcode = arr2[k].id;
      var x = imageid[k].empcode;
      url2 = "http://10.32.177.86/hris/encryptServlet?key=byINTforOrgano&val=" + x + ".jpg";
      var abc = this.http.get(url2);
      abc.subscribe((ress: any) => {
        imageid[k].imagelink = ress;
      })
      return imageid;

    }
  }
  //--------------------------------CLOSING OF IMAGE FUNCTION--------------------------------

} //--------------------------------CLOSING OF CLASS-----------------------------------------
